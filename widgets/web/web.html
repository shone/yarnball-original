<link rel="import" href="../../bower_components/polymer/polymer.html">

<script>
  WebBehavior = {
    created: function() {
      var self = this;
      self.isYbWeb = true;
      self._onInitWeb = new Set();
      require(['core/web'], function(Web) {
        self.ybWeb = Web();
        self._notifyInitWeb(self.ybWeb);
      });
    },
    onInitWeb: function(callback) {
      if (this.ybWeb) {
        callback(this.ybWeb);
      } else {
        this._onInitWeb.add(callback);
      }
    },
    _notifyInitWeb: function(web) {
      this._onInitWeb.forEach(function(callback) {
        callback(web);
      });
      this._onInitWeb.clear();
    },
  }
</script>

<dom-module id="yb-web">

  <script>
    (function() {
      'use strict';
      
      Polymer({
        is: 'yb-web',
        behaviors: [WebBehavior],
      });
    })();
  </script>
  
</dom-module>